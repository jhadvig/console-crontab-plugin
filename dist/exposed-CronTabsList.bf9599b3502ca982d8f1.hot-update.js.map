{"version":3,"file":"exposed-CronTabsList.bf9599b3502ca982d8f1.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAA0B;AACiD;AAW5B;AACY;AACR;AAEuC;AAa1F,oCAAoC;AACpC,8FAA8F;AAE9F,0BAA0B;AAE1B,MAAM,YAAY,GAAgC,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,EAAE;IACxE,MAAM,CAAC,QAAQ,EAAE,MAAM,EAAE,SAAS,CAAC,GAAG,0FAAmB,CAAsB;QAC7E,MAAM,EAAE,IAAI;QACZ,gBAAgB,EAAE;YAChB,OAAO,EAAE,oBAAoB;YAC7B,MAAM,EAAE,SAAS;YACjB,SAAS,EAAE,IAAI;SAChB;QACD,UAAU,EAAE,IAAI;QAChB,SAAS;KACV,CAAC,CAAC;IACH,kCAAkC;IAClC,MAAM,OAAO,GAAG,iBAAiB,EAAE,CAAC;IACpC,MAAM,CAAC,IAAI,EAAE,YAAY,EAAE,cAAc,CAAC,GAAG,wFAAiB,CAAC,QAAQ,CAAC,CAAC;IAEzE,OAAO,CACL;QACE,2DAAC,iFAAc,IAAC,KAAK,EAAE,SAAS;YAC9B,2DAAC,iFAAc,IAAC,gBAAgB,EAAE,gEAAU,CAAC,qEAAY,CAAC,qBAAiC,CAC5E;QACjB,2DAAC,+EAAY;YACb,2DAAC,iFAAc,IACT,IAAI,EAAE,IAAI,EACV,MAAM,EAAE,MAAM,EACd,cAAc,EAAE,cAAc,GAC9B;YACJ,2DAAC,mFAAgB,IACf,IAAI,EAAE,YAAY,EAClB,cAAc,EAAE,QAAQ,EACxB,MAAM,EAAE,MAAM,EACd,SAAS,EAAE,SAAS,EACpB,OAAO,EAAE,OAAO,EAChB,GAAG,EAAE,eAAe,GACpB,CACW,CACd,CACJ,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,eAAe,GAAoC,CAAC,EACxD,GAAG,EACH,eAAe,GAChB,EAAE,EAAE;IAEH,OAAO,CACL;QACE,2DAAC,4EAAS,IAAC,EAAE,EAAC,MAAM,EAAC,eAAe,EAAE,eAAe,EAAE,SAAS,EAAC,eAAe;YAC9E,2DAAC,+EAAY,IACX,gBAAgB,EAAE,6EAAuB,CAAC,qEAAY,CAAC,EACvD,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,IAAI,EACvB,SAAS,EAAE,GAAG,CAAC,QAAQ,CAAC,SAAS,GACjC,CACQ;QACZ,2DAAC,4EAAS,IAAC,EAAE,EAAC,WAAW,EAAC,eAAe,EAAE,eAAe,EAAE,SAAS,EAAC,eAAe;YACnF,2DAAC,+EAAY,IAAC,IAAI,EAAC,WAAW,EAAC,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,SAAS,GAAI,CACrD;QACZ,2DAAC,4EAAS,IAAC,EAAE,EAAC,UAAU,EAAC,eAAe,EAAE,eAAe,EAAE,SAAS,EAAC,eAAe;YAClF,2DAAC,+EAAY,IAAC,IAAI,EAAC,UAAU,EAAC,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,SAAE,CACvD;QACZ,2DAAC,4EAAS,IAAC,EAAE,EAAC,OAAO,EAAC,eAAe,EAAE,eAAe,EAAE,SAAS,EAAC,eAAe;YAC/E,2DAAC,+EAAY,IAAC,IAAI,EAAC,OAAO,EAAC,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,SAAE,CACjD;QACZ,2DAAC,4EAAS,IAAC,EAAE,EAAC,UAAU,EAAC,eAAe,EAAE,eAAe,EAAE,SAAS,EAAC,eAAe;YACpF,2DAAC,+EAAY,IAAC,IAAI,EAAC,SAAS,EAAC,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,SAAE,CACpD;QACZ,2DAAC,4EAAS,IAAC,EAAE,EAAC,SAAS,EAAC,eAAe,EAAE,eAAe,EAAE,SAAS,EAAC,eAAe;YACjF,2DAAC,4EAAS,IAAC,SAAS,EAAE,GAAG,CAAC,QAAQ,CAAC,iBAAiB,GAAI,CAC9C,CAEX,CACJ,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,iBAAiB,GAAG,GAAG,EAAE;IAC7B,MAAM,OAAO,GAAqC,oDAAa,CAC7D,GAAG,EAAE,CAAC;QACJ;YACE,KAAK,EAAE,MAAM;YACb,EAAE,EAAE,MAAM;YACV,UAAU,EAAE,CAAC,6DAAQ,CAAC;YACtB,IAAI,EAAE,eAAe;YACrB,KAAK,EAAE,EAAE,SAAS,EAAE,eAAe,EAAE;SACtC;QACD;YACE,KAAK,EAAE,WAAW;YAClB,EAAE,EAAE,WAAW;YACf,UAAU,EAAE,CAAC,6DAAQ,CAAC;YACtB,IAAI,EAAE,oBAAoB;YAC1B,KAAK,EAAE,EAAE,SAAS,EAAE,eAAe,EAAE;SACtC;QACD;YACE,KAAK,EAAE,UAAU;YACjB,EAAE,EAAE,UAAU;YACd,UAAU,EAAE,CAAC,6DAAQ,CAAC;YACtB,IAAI,EAAE,eAAe;YACrB,KAAK,EAAE,EAAE,SAAS,EAAE,eAAe,EAAE;SACtC;QACD;YACE,KAAK,EAAE,OAAO;YACd,EAAE,EAAE,OAAO;YACX,UAAU,EAAE,CAAC,6DAAQ,CAAC;YACtB,IAAI,EAAE,YAAY;YAClB,KAAK,EAAE,EAAE,SAAS,EAAE,eAAe,EAAE;SACtC;QACD;YACE,KAAK,EAAE,UAAU;YACjB,EAAE,EAAE,UAAU;YACd,UAAU,EAAE,CAAC,6DAAQ,CAAC;YACtB,IAAI,EAAE,eAAe;YACrB,KAAK,EAAE,EAAE,SAAS,EAAE,eAAe,EAAE;SACtC;QACD;YACE,KAAK,EAAE,SAAS;YAChB,EAAE,EAAE,SAAS;YACb,UAAU,EAAE,CAAC,6DAAQ,CAAC;YACtB,IAAI,EAAE,4BAA4B;YAClC,KAAK,EAAE,EAAE,SAAS,EAAE,eAAe,EAAE;SACtC;KACF,EACD,EAAE,CACH,CAAC;IAEF,OAAO,OAAO,CAAC;AACjB,CAAC,CAAC;AAEF,iEAAe,YAAY,EAAC","sources":["webpack://crontab-plugin/./views/CronTabsList.tsx"],"sourcesContent":["import React from 'react';\nimport { modelToGroupVersionKind, modelToRef } from '@crontab-utils/utils';\nimport {\n  ListPageBody,\n  ListPageHeader,\n  useK8sWatchResource,\n  K8sResourceCommon,\n  VirtualizedTable,\n  ListPageFilter,\n  useListPageFilter,\n  Timestamp,\n  ListPageCreate,\n} from '@openshift-console/dynamic-plugin-sdk';\nimport { CronTabModel } from '@crontab-model/CronTabModel';\nimport { sortable } from '@patternfly/react-table';\n\nimport { ResourceLink, RowProps, TableData } from '@openshift-console/dynamic-plugin-sdk';\nimport { TableColumn } from '@openshift-console/dynamic-plugin-sdk';\nimport { CronTabKind } from './CronTabYAMLPage';\n// import { Kebab } from '@openshift-console/dynamic-plugin-sdk/lib';\n// import { useTranslation } from 'react-i18next';\n\n// import './DataSourcesList.scss';\n\ntype CronTabsListProps = {\n  kind: string;\n  namespace: string;\n};\n\n// const { common } = Kebab.factory;\n// export const menuActions = [...Kebab.getExtensionsActionsForKind(CronJobModel), ...common];\n\n// const kind = 'CronTab';\n\nconst CronTabsList: React.FC<CronTabsListProps> = ({ kind, namespace }) => {\n  const [cronTabs, loaded, loadError] = useK8sWatchResource<K8sResourceCommon[]>({\n    isList: true,\n    groupVersionKind: {\n      \"group\": \"stable.example.com\",\n      \"kind\": \"CronTab\",\n      \"version\": \"v1\"\n    },\n    namespaced: true,\n    namespace,\n  });\n  // const { t } = useTranslation();\n  const columns = useCronTabColumns();\n  const [data, filteredData, onFilterChange] = useListPageFilter(cronTabs);\n\n  return (\n    <>\n      <ListPageHeader title={'CronTab'}>\n        <ListPageCreate groupVersionKind={modelToRef(CronTabModel)}>Create CronTab</ListPageCreate>\n      </ListPageHeader>\n      <ListPageBody>\n      <ListPageFilter\n            data={data}\n            loaded={loaded}\n            onFilterChange={onFilterChange}\n          />\n        <VirtualizedTable<K8sResourceCommon>\n          data={filteredData}\n          unfilteredData={cronTabs}\n          loaded={loaded}\n          loadError={loadError}\n          columns={columns}\n          Row={cronTabsListRow}\n        />\n      </ListPageBody>\n    </>\n  );\n};\n\nconst cronTabsListRow: React.FC<RowProps<CronTabKind>> = ({\n  obj,\n  activeColumnIDs,\n}) => {\n\n  return (\n    <>\n      <TableData id=\"name\" activeColumnIDs={activeColumnIDs} className=\"pf-m-width-15\">\n        <ResourceLink\n          groupVersionKind={modelToGroupVersionKind(CronTabModel)}\n          name={obj.metadata.name}\n          namespace={obj.metadata.namespace}\n        />\n      </TableData>\n      <TableData id=\"namespace\" activeColumnIDs={activeColumnIDs} className=\"pf-m-width-15\">\n        <ResourceLink kind=\"Namespace\" name={obj.metadata.namespace} />\n      </TableData>\n      <TableData id=\"cronspec\" activeColumnIDs={activeColumnIDs} className=\"pf-m-width-15\">\n        <ResourceLink kind=\"cronspec\" name={obj.spec.cronSpec} hideIcon/>\n      </TableData>\n      <TableData id=\"image\" activeColumnIDs={activeColumnIDs} className=\"pf-m-width-15\">\n        <ResourceLink kind=\"image\" name={obj.spec.image} hideIcon/>\n      </TableData>\n      <TableData id=\"replicas\" activeColumnIDs={activeColumnIDs} className=\"pf-m-width-15\">\n      <ResourceLink kind=\"Replica\" name={obj.spec.replicas} hideIcon/>\n      </TableData>\n      <TableData id=\"created\" activeColumnIDs={activeColumnIDs} className=\"pf-m-width-15\">\n        <Timestamp timestamp={obj.metadata.creationTimestamp} />\n      </TableData>\n      {/* <DataSourceActions dataSource={obj} isKebabToggle /> */}\n    </>\n  );\n};\n\nconst useCronTabColumns = () => {\n  const columns: TableColumn<K8sResourceCommon>[] = React.useMemo(\n    () => [\n      {\n        title: 'Name',\n        id: 'name',\n        transforms: [sortable],\n        sort: 'metadata.name',\n        props: { className: 'pf-m-width-15' },\n      },\n      {\n        title: 'Namespace',\n        id: 'namespace',\n        transforms: [sortable],\n        sort: 'metadata.namespace',\n        props: { className: 'pf-m-width-15' },\n      },\n      {\n        title: 'CronSpec',\n        id: 'cronspec',\n        transforms: [sortable],\n        sort: 'spec.cronSpec',\n        props: { className: 'pf-m-width-15' },\n      },\n      {\n        title: 'Image',\n        id: 'image',\n        transforms: [sortable],\n        sort: 'spec.image',\n        props: { className: 'pf-m-width-15' },\n      },\n      {\n        title: 'Replicas',\n        id: 'replicas',\n        transforms: [sortable],\n        sort: 'spec.replicas',\n        props: { className: 'pf-m-width-15' },\n      },\n      {\n        title: 'Created',\n        id: 'created',\n        transforms: [sortable],\n        sort: 'metadata.creationTimestamp',\n        props: { className: 'pf-m-width-15' },\n      },\n    ],\n    [],\n  );\n\n  return columns;\n};\n\nexport default CronTabsList;\n"],"names":[],"sourceRoot":""}